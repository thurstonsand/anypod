# Sync dependencies (creates .venv if needed)
uv sync --dev

# Activate venv the direnv way
export VIRTUAL_ENV="$PWD/.venv"
export PATH="$VIRTUAL_ENV/bin:$PATH"

# Install pre-commit hooks (only if not already installed)
if [ -d .git ] && [ ! -f .git/hooks/pre-commit ]; then
  uv run pre-commit install --install-hooks
fi